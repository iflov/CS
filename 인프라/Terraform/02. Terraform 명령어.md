---
tags:
- terraform
- cli
- commands
- infrastructure
- devops
created: 2025-01-15
updated: 2025-01-15
aliases:
- Terraform CLI
- í…Œë¼í¼ ëª…ë ¹ì–´
description: Terraform CLI ëª…ë ¹ì–´ ì™„ë²½ ê°€ì´ë“œ - ì›Œí¬í”Œë¡œìš°ë¶€í„° ê³ ê¸‰ ê¸°ëŠ¥ê¹Œì§€
status: published
category: reference
---

# Terraform ëª…ë ¹ì–´

> [!info] ê°œìš”
> Terraformì€ ì¸í”„ë¼ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ê°•ë ¥í•œ CLI ëª…ë ¹ì–´ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ ê°€ì´ë“œëŠ” ì´ˆê¸°í™”ë¶€í„° ì‚­ì œê¹Œì§€ ì „ì²´ ì›Œí¬í”Œë¡œìš°ì— í•„ìš”í•œ ëª¨ë“  ëª…ë ¹ì–´ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬í•œ ì™„ë²½í•œ ë ˆí¼ëŸ°ìŠ¤ì…ë‹ˆë‹¤.

## ğŸ“‘ ëª©ì°¨

- [[#âš¡ í•µì‹¬ ëª…ë ¹ì–´]]
- [[#âœ… ê²€ì¦ ë° í¬ë§·íŒ…]]
- [[#ğŸ“Š ìƒíƒœ ê´€ë¦¬ ëª…ë ¹ì–´]]
- [[#ğŸ” ì •ë³´ ì¡°íšŒ ëª…ë ¹ì–´]]
- [[#ğŸ“ˆ ì‹œê°í™” ë° ë””ë²„ê¹…]]
- [[#ğŸ¢ Workspace ê´€ë¦¬]]
- [[#ğŸ“¦ ëª¨ë“ˆ ë° Provider ê´€ë¦¬]]
- [[#ğŸ”„ Import ë° Export]]
- [[#âš™ï¸ ê³ ê¸‰ ì˜µì…˜]]
- [[#ğŸ’¡ ì‹¤ìš©ì ì¸ ëª…ë ¹ì–´ ì¡°í•©]]
- [[#ğŸ”§ ë¬¸ì œ í•´ê²° ëª…ë ¹ì–´]]
- [[#âœ¨ Best Practices]]
- [[#ğŸ“š ì°¸ê³ ìë£Œ]]

---

## âš¡ í•µì‹¬ ëª…ë ¹ì–´

### terraform init

> [!note] ì‘ì—… ë””ë ‰í† ë¦¬ ì´ˆê¸°í™”
> Provider ë‹¤ìš´ë¡œë“œ, ëª¨ë“ˆ ì„¤ì¹˜, Backend ì„¤ì • ë“±ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

```bash
terraform init
terraform init -upgrade           # Provider ì—…ê·¸ë ˆì´ë“œ
terraform init -reconfigure       # Backend ì¬ì„¤ì •
terraform init -migrate-state     # State ë§ˆì´ê·¸ë ˆì´ì…˜
```

### terraform plan

> [!tip] ì‹¤í–‰ ê³„íš ìƒì„±
> ì‹¤ì œ ë³€ê²½ ì „ ì–´ë–¤ ì‘ì—…ì´ ìˆ˜í–‰ë ì§€ ë¯¸ë¦¬ í™•ì¸í•©ë‹ˆë‹¤.

```bash
terraform plan
terraform plan -out=plan.tfplan   # ê³„íšì„ íŒŒì¼ë¡œ ì €ì¥
terraform plan -destroy           # ì‚­ì œ ê³„íš í™•ì¸
terraform plan -target=resource   # íŠ¹ì • ë¦¬ì†ŒìŠ¤ë§Œ ê³„íš
terraform plan -refresh=false     # ì™¸ë¶€ ë³€ê²½ì‚¬í•­ í™•ì¸ ê±´ë„ˆë›°ê¸°
```

### terraform apply

> [!warning] ì¸í”„ë¼ ë³€ê²½ ì ìš©
> ì‹¤ì œ ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±, ìˆ˜ì •, ì‚­ì œí•©ë‹ˆë‹¤. ì‹ ì¤‘í•˜ê²Œ ì‚¬ìš©í•˜ì„¸ìš”.

```bash
terraform apply
terraform apply -auto-approve      # í™•ì¸ ì—†ì´ ìë™ ì ìš©
terraform apply plan.tfplan        # ì €ì¥ëœ ê³„íš ì ìš©
terraform apply -target=resource   # íŠ¹ì • ë¦¬ì†ŒìŠ¤ë§Œ ì ìš©
```

### terraform destroy

> [!danger] ì¸í”„ë¼ ì œê±°
> ëª¨ë“  ê´€ë¦¬ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤. ë³µêµ¬ ë¶ˆê°€ëŠ¥í•˜ë‹ˆ ì£¼ì˜í•˜ì„¸ìš”!

```bash
terraform destroy
terraform destroy -auto-approve    # í™•ì¸ ì—†ì´ ì‚­ì œ
terraform destroy -target=resource # íŠ¹ì • ë¦¬ì†ŒìŠ¤ë§Œ ì‚­ì œ
```

---

## âœ… ê²€ì¦ ë° í¬ë§·íŒ…

### terraform validate

> [!note] ì„¤ì • ê²€ì¦
> ë¬¸ë²• ì˜¤ë¥˜ë‚˜ ì„¤ì • ë¬¸ì œë¥¼ ì‚¬ì „ì— ë°œê²¬í•©ë‹ˆë‹¤.

```bash
terraform validate
```

### terraform fmt

> [!tip] ì½”ë“œ í¬ë§·íŒ…
> HCL íŒŒì¼ì„ í‘œì¤€ í˜•ì‹ìœ¼ë¡œ ìë™ ì •ë ¬í•©ë‹ˆë‹¤.

```bash
terraform fmt                     # í˜„ì¬ ë””ë ‰í† ë¦¬ í¬ë§·
terraform fmt -recursive          # í•˜ìœ„ ë””ë ‰í† ë¦¬ í¬í•¨
terraform fmt -check             # í¬ë§· í•„ìš” ì—¬ë¶€ë§Œ í™•ì¸
terraform fmt -diff              # ë³€ê²½ì‚¬í•­ í‘œì‹œ
```

---

## ğŸ“Š ìƒíƒœ ê´€ë¦¬ ëª…ë ¹ì–´

### terraform show

> [!example] ìƒíƒœ í‘œì‹œ
> ```bash
> terraform show                    # í˜„ì¬ ìƒíƒœ í‘œì‹œ
> terraform show plan.tfplan        # ì €ì¥ëœ ê³„íš í‘œì‹œ
> terraform show -json              # JSON í˜•ì‹ìœ¼ë¡œ ì¶œë ¥
> ```

### terraform state

> [!warning] State ì§ì ‘ ì¡°ì‘
> State íŒŒì¼ì„ ì§ì ‘ ìˆ˜ì •í•˜ëŠ” ê²ƒì€ ìœ„í—˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°±ì—…ì„ ë¨¼ì € ìƒì„±í•˜ì„¸ìš”.

```bash
terraform state list              # ë¦¬ì†ŒìŠ¤ ëª©ë¡
terraform state show <resource>   # íŠ¹ì • ë¦¬ì†ŒìŠ¤ ìƒì„¸ ì •ë³´
terraform state mv <old> <new>    # ë¦¬ì†ŒìŠ¤ ì´ë¦„ ë³€ê²½
terraform state rm <resource>     # Stateì—ì„œ ì œê±°
terraform state pull              # Remote state ë‹¤ìš´ë¡œë“œ
terraform state push              # Remote state ì—…ë¡œë“œ
```

### terraform refresh

> [!note] State ë™ê¸°í™”
> ì‹¤ì œ ì¸í”„ë¼ì™€ Stateë¥¼ ë™ê¸°í™”í•©ë‹ˆë‹¤.

```bash
terraform refresh
```

---

## ğŸ” ì •ë³´ ì¡°íšŒ ëª…ë ¹ì–´

### terraform providers

> [!example] Provider ì •ë³´
> ```bash
> terraform providers
> terraform providers schema        # Provider ìŠ¤í‚¤ë§ˆ ì •ë³´
> terraform providers mirror        # Provider ë¯¸ëŸ¬ë§
> ```

### terraform output

> [!tip] Output ê°’ ì¡°íšŒ
> ì •ì˜ëœ ì¶œë ¥ ë³€ìˆ˜ì˜ ê°’ì„ í™•ì¸í•©ë‹ˆë‹¤.

```bash
terraform output                  # ëª¨ë“  output í‘œì‹œ
terraform output <name>           # íŠ¹ì • output í‘œì‹œ
terraform output -json            # JSON í˜•ì‹ìœ¼ë¡œ ì¶œë ¥
terraform output -raw <name>      # Raw ê°’ë§Œ ì¶œë ¥
```

### terraform version

```bash
terraform version
terraform version -json           # JSON í˜•ì‹ìœ¼ë¡œ ì¶œë ¥
```

---

## ğŸ“ˆ ì‹œê°í™” ë° ë””ë²„ê¹…

### terraform graph

> [!tip] ì˜ì¡´ì„± ê·¸ë˜í”„ ìƒì„±
> ë¦¬ì†ŒìŠ¤ ê°„ ì˜ì¡´ê´€ê³„ë¥¼ ì‹œê°ì ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
terraform graph                   # DOT í˜•ì‹ìœ¼ë¡œ ì¶œë ¥
terraform graph | dot -Tsvg > graph.svg  # SVGë¡œ ë³€í™˜ (Graphviz í•„ìš”)
terraform graph | dot -Tpng > graph.png  # PNGë¡œ ë³€í™˜
```

### terraform console

> [!example] ëŒ€í™”í˜• ì½˜ì†”
> í‘œí˜„ì‹ì„ í…ŒìŠ¤íŠ¸í•˜ê³  ë³€ìˆ˜ ê°’ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> ```bash
> terraform console
> 
> # ì½˜ì†”ì—ì„œ ì‚¬ìš© ì˜ˆì‹œ:
> > var.region
> > aws_instance.example.public_ip
> > [for s in var.subnets : s.cidr]
> ```

---

## ğŸ¢ Workspace ê´€ë¦¬

> [!note] Workspaceë€?
> ë™ì¼í•œ ì„¤ì •ìœ¼ë¡œ ì—¬ëŸ¬ í™˜ê²½(dev, staging, prod)ì„ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.

```bash
terraform workspace list          # Workspace ëª©ë¡
terraform workspace show          # í˜„ì¬ Workspace
terraform workspace new dev       # ìƒˆ Workspace ìƒì„±
terraform workspace select prod   # Workspace ì „í™˜
terraform workspace delete dev    # Workspace ì‚­ì œ
```

---

## ğŸ“¦ ëª¨ë“ˆ ë° Provider ê´€ë¦¬

### terraform get

> [!note] ëª¨ë“ˆ ë‹¤ìš´ë¡œë“œ
> ì„¤ì •ëœ ëª¨ë“ˆì„ ë‹¤ìš´ë¡œë“œí•˜ê±°ë‚˜ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.

```bash
terraform get
terraform get -update            # ëª¨ë“ˆ ì—…ë°ì´íŠ¸
```

### terraform providers lock

> [!tip] Provider ë²„ì „ ê³ ì •
> ì¼ê´€ëœ ì‹¤í–‰ì„ ìœ„í•´ Provider ë²„ì „ì„ ì ê¸‰ë‹ˆë‹¤.

```bash
terraform providers lock
terraform providers lock -platform=linux_amd64
terraform providers lock -platform=darwin_arm64
```

---

## ğŸ”„ Import ë° Export

### terraform import

> [!warning] ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ ê°€ì ¸ì˜¤ê¸°
> ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ Terraform ê´€ë¦¬ í•˜ì— ë‘ë ¤ë©´ ë¨¼ì € ì„¤ì • íŒŒì¼ì— ë¦¬ì†ŒìŠ¤ë¥¼ ì •ì˜í•´ì•¼ í•©ë‹ˆë‹¤.

```bash
terraform import aws_instance.example i-1234567890abcdef0
terraform import -var-file=prod.tfvars aws_instance.example i-123456
```

---

## âš™ï¸ ê³ ê¸‰ ì˜µì…˜

### ê³µí†µ ì˜µì…˜

> [!tip] ìì£¼ ì‚¬ìš©ë˜ëŠ” ì˜µì…˜ë“¤
> ```bash
> -var="key=value"                 # ë³€ìˆ˜ ì„¤ì •
> -var-file=filename               # ë³€ìˆ˜ íŒŒì¼ ì§€ì •
> -state=path                      # State íŒŒì¼ ê²½ë¡œ
> -backup=path                     # ë°±ì—… íŒŒì¼ ê²½ë¡œ
> -lock=true/false                 # State ì ê¸ˆ ì—¬ë¶€
> -lock-timeout=0s                 # ì ê¸ˆ ëŒ€ê¸° ì‹œê°„
> -input=true/false                # ëŒ€í™”í˜• ì…ë ¥ ì—¬ë¶€
> -parallelism=10                  # ë³‘ë ¬ ì²˜ë¦¬ ìˆ˜
> ```

### í™˜ê²½ ë³€ìˆ˜

> [!example] ìœ ìš©í•œ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
> ```bash
> export TF_LOG=DEBUG              # ë¡œê·¸ ë ˆë²¨ ì„¤ì •
> export TF_LOG_PATH=terraform.log # ë¡œê·¸ íŒŒì¼ ê²½ë¡œ
> export TF_VAR_region=us-west-2   # ë³€ìˆ˜ ì„¤ì •
> export TF_CLI_ARGS_plan="-input=false"  # ëª…ë ¹ì–´ë³„ ê¸°ë³¸ ì˜µì…˜
> ```

---

## ğŸ’¡ ì‹¤ìš©ì ì¸ ëª…ë ¹ì–´ ì¡°í•©

### CI/CD íŒŒì´í”„ë¼ì¸ìš©

> [!example] ìë™í™” ìŠ¤í¬ë¦½íŠ¸
> ```bash
> # ì´ˆê¸°í™” ë° ê²€ì¦
> terraform init -input=false
> terraform validate
> 
> # ê³„íš ìƒì„± ë° ì €ì¥
> terraform plan -input=false -out=tfplan
> 
> # ì ìš©
> terraform apply -input=false tfplan
> ```

### ë””ë²„ê¹…ìš©

> [!tip] ë¬¸ì œ í•´ê²° ì‹œ ìœ ìš©í•œ íŒ¨í„´
> ```bash
> # ìƒì„¸ ë¡œê·¸ í™œì„±í™”
> export TF_LOG=DEBUG
> terraform plan
> 
> # íŠ¹ì • ë¦¬ì†ŒìŠ¤ë§Œ ë””ë²„ê¹…
> terraform plan -target=aws_instance.problematic
> ```

### ëŒ€ê·œëª¨ ì¸í”„ë¼ ê´€ë¦¬

> [!note] ì„±ëŠ¥ ìµœì í™”
> ```bash
> # ë³‘ë ¬ ì²˜ë¦¬ ì¦ê°€
> terraform apply -parallelism=50
> 
> # ì ì§„ì  ì ìš©
> terraform apply -target=module.network
> terraform apply -target=module.compute
> terraform apply  # ë‚˜ë¨¸ì§€ ì „ì²´
> ```

---

## ğŸ”§ ë¬¸ì œ í•´ê²° ëª…ë ¹ì–´

### ì ê¸ˆ í•´ì œ

> [!warning] State ì ê¸ˆ ê°•ì œ í•´ì œ
> ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œë˜ì§€ ì•Šì•˜ëŠ”ì§€ ë¨¼ì € í™•ì¸í•˜ì„¸ìš”.

```bash
terraform force-unlock <LOCK_ID>
```

### State ë³µêµ¬

> [!danger] ë°±ì—…ì—ì„œ ë³µêµ¬
> ```bash
> # ë°±ì—…ì—ì„œ ë³µêµ¬
> cp terraform.tfstate.backup terraform.tfstate
> 
> # ë˜ëŠ” ì›ê²©ì—ì„œ ë‹¤ì‹œ ê°€ì ¸ì˜¤ê¸°
> terraform state pull > terraform.tfstate
> ```

### ë¦¬ì†ŒìŠ¤ ì¬ìƒì„± ê°•ì œ

> [!tip] íŠ¹ì • ë¦¬ì†ŒìŠ¤ êµì²´
> ```bash
> terraform apply -replace=aws_instance.example
> # ë˜ëŠ” (êµ¬ë²„ì „)
> terraform taint aws_instance.example
> terraform apply
> ```

---

## âœ¨ Best Practices

> [!success] ëª…ë ¹ì–´ ì‚¬ìš© ëª¨ë²” ì‚¬ë¡€
> 1. **í•­ìƒ plan ë¨¼ì € ì‹¤í–‰**: ë³€ê²½ì‚¬í•­ì„ ë¯¸ë¦¬ í™•ì¸
> 2. **-out ì˜µì…˜ ì‚¬ìš©**: ê³„íšì„ íŒŒì¼ë¡œ ì €ì¥í•˜ì—¬ ì •í™•í•œ ì ìš©
> 3. **validate ì •ê¸° ì‹¤í–‰**: ë¬¸ë²• ì˜¤ë¥˜ ì¡°ê¸° ë°œê²¬
> 4. **fmt ìë™í™”**: pre-commit hookìœ¼ë¡œ ìë™ í¬ë§·íŒ…
> 5. **ì ì ˆí•œ parallelism**: ëŒ€ê·œëª¨ ì¸í”„ë¼ëŠ” ê°’ ì¦ê°€
> 6. **ë¡œê·¸ í™œì„±í™”**: ë¬¸ì œ í•´ê²° ì‹œ TF_LOG ì‚¬ìš©
> 7. **ë°±ì—… ìœ ì§€**: State íŒŒì¼ ì •ê¸° ë°±ì—…

---

## ğŸ“š ì°¸ê³ ìë£Œ

### ê´€ë ¨ ë¬¸ì„œ
- [[01. Terraform ê¸°ì´ˆ]]
- [[07. Terraform ê³ ê¸‰ ê°œë…]]
- [[06. Terraform ìƒíƒœ ê´€ë¦¬]]
- [[03. Terraform init ìƒì„¸]]
- [[00. Terraform í•™ìŠµ ê°€ì´ë“œ]]

### ì™¸ë¶€ ë¦¬ì†ŒìŠ¤
- [Terraform CLI ê³µì‹ ë¬¸ì„œ](https://www.terraform.io/cli)
- [Terraform Commands (CLI) Reference](https://www.terraform.io/cli/commands)
- [Terraform Best Practices](https://www.terraform-best-practices.com/)

---

> [!quote]
> "ì¢‹ì€ ë„êµ¬ëŠ” ì‘ì—…ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ì§€ë§Œ, í›Œë¥­í•œ ë„êµ¬ëŠ” ì‘ì—…ì„ ì¦ê²ê²Œ ë§Œë“ ë‹¤." - HashiCorp ê°œë°œíŒ€