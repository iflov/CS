---
tags:
  - ì¬ê·€
  - ê¼¬ë¦¬ì¬ê·€
  - ì•Œê³ ë¦¬ì¦˜
  - í”„ë¡œê·¸ë˜ë°
  - SICP
created: 2025-01-04
updated: "updated: 2025-09-05"
aliases:
  - Recursion
  - Tail Recursion
  - ì¬ê·€í•¨ìˆ˜
description: ì¬ê·€ì™€ ê¼¬ë¦¬ì¬ê·€ì˜ ê°œë…, ì›ë¦¬, ìµœì í™” ê¸°ë²•ì„ í•™ìŠµí•©ë‹ˆë‹¤
category: guide
---

# ì¬ê·€ì™€ ê¼¬ë¦¬ì¬ê·€ (Recursion and Tail Recursion)

> [!info] ê°œìš”
> ì¬ê·€ëŠ” í•¨ìˆ˜ê°€ ìê¸° ìì‹ ì„ í˜¸ì¶œí•˜ëŠ” í”„ë¡œê·¸ë˜ë° ê¸°ë²•ìœ¼ë¡œ, ë³µì¡í•œ ë¬¸ì œë¥¼ ë‹¨ìˆœí•œ ë¶€ë¶„ ë¬¸ì œë¡œ ë¶„í•´í•˜ì—¬ í•´ê²°í•˜ëŠ” ê°•ë ¥í•œ ë„êµ¬ì…ë‹ˆë‹¤. ê¼¬ë¦¬ì¬ê·€ëŠ” ì¬ê·€ì˜ íŠ¹ë³„í•œ í˜•íƒœë¡œ, ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±ì„ í¬ê²Œ ê°œì„ í•  ìˆ˜ ìˆëŠ” ìµœì í™” ê¸°ë²•ì…ë‹ˆë‹¤.

## ğŸ“‘ ëª©ì°¨

- [[#ğŸ¯ ì¬ê·€ë€ ë¬´ì—‡ì¸ê°€?]]
- [[#ğŸ”„ ì¬ê·€ì˜ ê¸°ë³¸ ì›ë¦¬]]
- [[#ğŸ’¡ ì„ í˜• ì¬ê·€ vs íŠ¸ë¦¬ ì¬ê·€]]
- [[#âš¡ ê¼¬ë¦¬ì¬ê·€ ìµœì í™”]]
- [[#ğŸ“Š ì¬ê·€ í”„ë¡œì„¸ìŠ¤ ë¶„ì„]]
- [[#ğŸ”§ ì‹¤ì „ ì˜ˆì œ]]
- [[#âš ï¸ ì£¼ì˜ì‚¬í•­ê³¼ ìµœì í™”]]
- [[#ğŸ“š ì°¸ê³ ìë£Œ]]

---

## ğŸ¯ ì¬ê·€ë€ ë¬´ì—‡ì¸ê°€?

> [!note] í•µì‹¬ ì •ì˜
> **ì¬ê·€(Recursion)**: ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ í•¨ìˆ˜ê°€ ìê¸° ìì‹ ì„ í˜¸ì¶œí•˜ëŠ” í”„ë¡œê·¸ë˜ë° ê¸°ë²•. í° ë¬¸ì œë¥¼ ì‘ì€ ë¶€ë¶„ ë¬¸ì œë¡œ ë‚˜ëˆ„ì–´ í•´ê²°í•˜ëŠ” ë¶„í•  ì •ë³µì˜ í•µì‹¬ ë„êµ¬ì…ë‹ˆë‹¤.

### ì¬ê·€ì˜ ë‘ ê°€ì§€ í•„ìˆ˜ ìš”ì†Œ

1. **ê¸°ì € ì‚¬ë¡€(Base Case)**: ì¬ê·€ í˜¸ì¶œì„ ë©ˆì¶”ëŠ” ì¡°ê±´
2. **ì¬ê·€ ë‹¨ê³„(Recursive Step)**: ë¬¸ì œë¥¼ ë” ì‘ì€ ë¶€ë¶„ìœ¼ë¡œ ë¶„í•´

```scheme
; ì¬ê·€ì˜ ê¸°ë³¸ êµ¬ì¡°
(define (recursive-function x)
  (if (base-case? x)          ; ê¸°ì € ì‚¬ë¡€ ê²€ì‚¬
      base-value               ; ê¸°ì € ê°’ ë°˜í™˜
      (combine x               ; í˜„ì¬ ê°’ê³¼
        (recursive-function    ; ì¬ê·€ í˜¸ì¶œ ê²°ê³¼ë¥¼
          (simplify x)))))     ; ë‹¨ìˆœí™”ëœ ë¬¸ì œì— ëŒ€í•´ ê²°í•©
```

### ì¼ìƒ ì† ì¬ê·€ì˜ ì˜ˆ

> [!example] ëŸ¬ì‹œì•„ ì¸í˜• (ë§ˆíŠ¸ë£Œì‹œì¹´)
> ëŸ¬ì‹œì•„ ì¸í˜•ì„ ì—¬ëŠ” ê³¼ì •ì€ ì™„ë²½í•œ ì¬ê·€ì…ë‹ˆë‹¤:
> 1. ì¸í˜•ì„ ì—°ë‹¤
> 2. ì•ˆì— ì¸í˜•ì´ ìˆìœ¼ë©´, ê·¸ ì¸í˜•ì— ëŒ€í•´ 1ë²ˆ ê³¼ì • ë°˜ë³µ
> 3. ë” ì´ìƒ ì•ˆì— ì¸í˜•ì´ ì—†ìœ¼ë©´ ì¢…ë£Œ

---

## ğŸ”„ ì¬ê·€ì˜ ê¸°ë³¸ ì›ë¦¬

### ì„ í˜• ì¬ê·€ì  í”„ë¡œì„¸ìŠ¤ (Linear Recursive Process)

> [!info] íŠ¹ì§•
> - ì§€ì—°ëœ ì—°ì‚°ë“¤ì´ ì²´ì¸ì²˜ëŸ¼ ìŒ“ì„
> - ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ì…ë ¥ í¬ê¸°ì— ë¹„ë¡€í•˜ì—¬ ì¦ê°€
> - ê³„ì‚° ê³¼ì •ì´ í™•ì¥ í›„ ìˆ˜ì¶•í•˜ëŠ” í˜•íƒœ

```scheme
; íŒ©í† ë¦¬ì–¼ - ì„ í˜• ì¬ê·€ì  í”„ë¡œì„¸ìŠ¤
(define (factorial n)
  (if (= n 1)
      1
      (* n (factorial (- n 1)))))

; ì‹¤í–‰ ê³¼ì • (n=5)
(factorial 5)
(* 5 (factorial 4))
(* 5 (* 4 (factorial 3)))
(* 5 (* 4 (* 3 (factorial 2))))
(* 5 (* 4 (* 3 (* 2 (factorial 1)))))
(* 5 (* 4 (* 3 (* 2 1))))
(* 5 (* 4 (* 3 2)))
(* 5 (* 4 6))
(* 5 24)
120
```

### ì„ í˜• ë°˜ë³µì  í”„ë¡œì„¸ìŠ¤ (Linear Iterative Process)

> [!tip] íŠ¹ì§•
> - ìƒíƒœ ë³€ìˆ˜ë¥¼ í†µí•´ í˜„ì¬ ìƒíƒœë¥¼ ì™„ì „íˆ í‘œí˜„
> - ì¼ì •í•œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ (O(1) ê³µê°„ ë³µì¡ë„)
> - ê³„ì‚°ì´ ì¼ì •í•œ íŒ¨í„´ìœ¼ë¡œ ì§„í–‰

```scheme
; íŒ©í† ë¦¬ì–¼ - ì„ í˜• ë°˜ë³µì  í”„ë¡œì„¸ìŠ¤ (ê¼¬ë¦¬ì¬ê·€)
(define (factorial n)
  (fact-iter 1 1 n))

(define (fact-iter product counter max-count)
  (if (> counter max-count)
      product
      (fact-iter (* counter product)
                 (+ counter 1)
                 max-count)))

; ì‹¤í–‰ ê³¼ì • (n=5)
(factorial 5)
(fact-iter 1 1 5)
(fact-iter 1 2 5)
(fact-iter 2 3 5)
(fact-iter 6 4 5)
(fact-iter 24 5 5)
(fact-iter 120 6 5)
120
```

---

## ğŸ’¡ ì„ í˜• ì¬ê·€ vs íŠ¸ë¦¬ ì¬ê·€

### íŠ¸ë¦¬ ì¬ê·€ (Tree Recursion)

> [!warning] íŠ¸ë¦¬ ì¬ê·€ì˜ íŠ¹ì„±
> í•¨ìˆ˜ê°€ ìì‹ ì„ ë‘ ë²ˆ ì´ìƒ í˜¸ì¶œí•˜ëŠ” ì¬ê·€ íŒ¨í„´ìœ¼ë¡œ, ê³„ì‚° íŠ¸ë¦¬ê°€ ì§€ìˆ˜ì ìœ¼ë¡œ ì„±ì¥í•©ë‹ˆë‹¤.

```scheme
; í”¼ë³´ë‚˜ì¹˜ - íŠ¸ë¦¬ ì¬ê·€ (ë¹„íš¨ìœ¨ì )
(define (fib n)
  (cond ((= n 0) 0)
        ((= n 1) 1)
        (else (+ (fib (- n 1))
                 (fib (- n 2))))))

; ê³„ì‚° íŠ¸ë¦¬ (n=5)
;                    fib(5)
;                   /      \
;              fib(4)        fib(3)
;             /     \        /     \
;        fib(3)   fib(2)  fib(2)  fib(1)
;        /   \     /   \    /   \
;    fib(2) fib(1) ...  ... ...  ...
```

### íŠ¸ë¦¬ ì¬ê·€ë¥¼ ì„ í˜• ì¬ê·€ë¡œ ë³€í™˜

```scheme
; í”¼ë³´ë‚˜ì¹˜ - ì„ í˜• ë°˜ë³µì  í”„ë¡œì„¸ìŠ¤
(define (fib n)
  (fib-iter 1 0 n))

(define (fib-iter a b count)
  (if (= count 0)
      b
      (fib-iter (+ a b) a (- count 1))))

; ì‹¤í–‰ ê³¼ì • (n=5)
(fib 5)
(fib-iter 1 0 5)
(fib-iter 1 1 4)
(fib-iter 2 1 3)
(fib-iter 3 2 2)
(fib-iter 5 3 1)
(fib-iter 8 5 0)
5
```

---

## âš¡ ê¼¬ë¦¬ì¬ê·€ ìµœì í™”

> [!success] ê¼¬ë¦¬ì¬ê·€ë€?
> **ê¼¬ë¦¬ì¬ê·€(Tail Recursion)**: ì¬ê·€ í˜¸ì¶œì´ í•¨ìˆ˜ì˜ ë§ˆì§€ë§‰ ì—°ì‚°ì¸ ì¬ê·€. ì»´íŒŒì¼ëŸ¬ê°€ ì´ë¥¼ ë°˜ë³µë¬¸ìœ¼ë¡œ ìµœì í™”í•  ìˆ˜ ìˆì–´ ìŠ¤íƒ ì˜¤ë²„í”Œë¡œìš°ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.

### ê¼¬ë¦¬ì¬ê·€ ì¡°ê±´

1. ì¬ê·€ í˜¸ì¶œì´ í•¨ìˆ˜ì˜ **ë§ˆì§€ë§‰ í‘œí˜„ì‹**ì´ì–´ì•¼ í•¨
2. ì¬ê·€ í˜¸ì¶œ ê²°ê³¼ì— **ì¶”ê°€ ì—°ì‚°ì´ ì—†ì–´ì•¼ í•¨**
3. ëª¨ë“  ìƒíƒœê°€ **ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬**ë˜ì–´ì•¼ í•¨

### ì¼ë°˜ ì¬ê·€ vs ê¼¬ë¦¬ì¬ê·€

```scheme
; ì¼ë°˜ ì¬ê·€ - ê¼¬ë¦¬ì¬ê·€ ì•„ë‹˜ (ì¬ê·€ í›„ ê³±ì…ˆ ì—°ì‚°)
(define (factorial n)
  (if (= n 1)
      1
      (* n (factorial (- n 1)))))  ; ì¬ê·€ í›„ ê³±ì…ˆ í•„ìš”

; ê¼¬ë¦¬ì¬ê·€ - ìµœì í™” ê°€ëŠ¥
(define (factorial n)
  (define (iter product counter)
    (if (> counter n)
        product
        (iter (* counter product)   ; ëª¨ë“  ê³„ì‚°ì´ ë§¤ê°œë³€ìˆ˜ë¡œ
              (+ counter 1))))       ; ì¬ê·€ê°€ ë§ˆì§€ë§‰ ì—°ì‚°
  (iter 1 1))
```

### ê¼¬ë¦¬ì¬ê·€ ìµœì í™”ì˜ íš¨ê³¼

> [!tip] ì„±ëŠ¥ ë¹„êµ
> | êµ¬ë¶„ | ì¼ë°˜ ì¬ê·€ | ê¼¬ë¦¬ì¬ê·€ |
> |------|-----------|----------|
> | ê³µê°„ ë³µì¡ë„ | O(n) | O(1) |
> | ìŠ¤íƒ ì‚¬ìš© | nê°œ í”„ë ˆì„ | 1ê°œ í”„ë ˆì„ |
> | ìµœëŒ€ ê¹Šì´ | ì œí•œì  | ë¬´ì œí•œ |

---

## ğŸ“Š ì¬ê·€ í”„ë¡œì„¸ìŠ¤ ë¶„ì„

### ë³µì¡ë„ ë¶„ì„

> [!abstract] ì‹œê°„ ë° ê³µê°„ ë³µì¡ë„
> ì¬ê·€ ì•Œê³ ë¦¬ì¦˜ì˜ íš¨ìœ¨ì„±ì€ í˜¸ì¶œ íšŸìˆ˜ì™€ ê° í˜¸ì¶œì˜ ì‘ì—…ëŸ‰ìœ¼ë¡œ ê²°ì •ë©ë‹ˆë‹¤.

| ì•Œê³ ë¦¬ì¦˜ | ì‹œê°„ ë³µì¡ë„ | ê³µê°„ ë³µì¡ë„ | ì¬ê·€ íƒ€ì… |
|---------|------------|------------|-----------|
| íŒ©í† ë¦¬ì–¼ (ì¼ë°˜) | O(n) | O(n) | ì„ í˜• ì¬ê·€ |
| íŒ©í† ë¦¬ì–¼ (ê¼¬ë¦¬) | O(n) | O(1) | ê¼¬ë¦¬ ì¬ê·€ |
| í”¼ë³´ë‚˜ì¹˜ (íŠ¸ë¦¬) | O(2^n) | O(n) | íŠ¸ë¦¬ ì¬ê·€ |
| í”¼ë³´ë‚˜ì¹˜ (ì„ í˜•) | O(n) | O(1) | ê¼¬ë¦¬ ì¬ê·€ |
| ì´ì§„ íƒìƒ‰ | O(log n) | O(log n) | ë¶„í•  ì¬ê·€ |

---

## ğŸ”§ ì‹¤ì „ ì˜ˆì œ

### ì˜ˆì œ 1: íŒŒìŠ¤ì¹¼ì˜ ì‚¼ê°í˜•

> [!example] íŒŒìŠ¤ì¹¼ ì‚¼ê°í˜• ê³„ì‚°

```scheme
; íŒŒìŠ¤ì¹¼ ì‚¼ê°í˜•ì˜ (row, col) ìœ„ì¹˜ ê°’ ê³„ì‚°
(define (pascal row col)
  (cond ((= col 0) 1)           ; ì²« ë²ˆì§¸ ì—´ì€ í•­ìƒ 1
        ((= col row) 1)         ; ë§ˆì§€ë§‰ ì—´ì€ í•­ìƒ 1
        (else (+ (pascal (- row 1) (- col 1))
                 (pascal (- row 1) col)))))

; íŒŒìŠ¤ì¹¼ ì‚¼ê°í˜• ì¶œë ¥
;         1
;       1   1
;     1   2   1
;   1   3   3   1
; 1   4   6   4   1
```

### ì˜ˆì œ 2: ë™ì „ ë‚˜ëˆ„ê¸° ë¬¸ì œ

> [!example] ì¬ê·€ë¥¼ ì´ìš©í•œ ê²½ìš°ì˜ ìˆ˜ ê³„ì‚°

```scheme
; amountì›ì„ nì¢…ë¥˜ì˜ ë™ì „ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ê²½ìš°ì˜ ìˆ˜
(define (count-change amount)
  (cc amount 5))

(define (cc amount kinds-of-coins)
  (cond ((= amount 0) 1)                    ; ì •í™•íˆ ë‚˜ëˆ„ì–´ë–¨ì–´ì§
        ((or (< amount 0)                   ; ìŒìˆ˜ê°€ ë¨
             (= kinds-of-coins 0)) 0)       ; ë™ì „ ì¢…ë¥˜ ì†Œì§„
        (else (+ (cc amount
                    (- kinds-of-coins 1))    ; í˜„ì¬ ë™ì „ ì‚¬ìš© ì•ˆí•¨
                 (cc (- amount
                       (first-denomination 
                         kinds-of-coins))    ; í˜„ì¬ ë™ì „ ì‚¬ìš©
                     kinds-of-coins)))))

(define (first-denomination kinds-of-coins)
  (cond ((= kinds-of-coins 1) 1)     ; 1ì„¼íŠ¸
        ((= kinds-of-coins 2) 5)     ; 5ì„¼íŠ¸
        ((= kinds-of-coins 3) 10)    ; 10ì„¼íŠ¸
        ((= kinds-of-coins 4) 25)    ; 25ì„¼íŠ¸
        ((= kinds-of-coins 5) 50)))  ; 50ì„¼íŠ¸
```

### ì˜ˆì œ 3: ê±°ë“­ì œê³± ê³„ì‚°

> [!example] íš¨ìœ¨ì ì¸ ê±°ë“­ì œê³± ì•Œê³ ë¦¬ì¦˜

```scheme
; O(n) ì„ í˜• ì¬ê·€
(define (expt b n)
  (if (= n 0)
      1
      (* b (expt b (- n 1)))))

; O(log n) ë¹ ë¥¸ ê±°ë“­ì œê³±
(define (fast-expt b n)
  (cond ((= n 0) 1)
        ((even? n) (square (fast-expt b (/ n 2))))
        (else (* b (fast-expt b (- n 1))))))

(define (square x) (* x x))
(define (even? n) (= (remainder n 2) 0))
```

---

## âš ï¸ ì£¼ì˜ì‚¬í•­ê³¼ ìµœì í™”

### ì¬ê·€ ì‚¬ìš© ì‹œ ì£¼ì˜ì 

> [!warning] ì¼ë°˜ì ì¸ í•¨ì •ë“¤
> 1. **ìŠ¤íƒ ì˜¤ë²„í”Œë¡œìš°**: ê¹Šì€ ì¬ê·€ëŠ” ìŠ¤íƒ í•œê³„ ì´ˆê³¼ ê°€ëŠ¥
> 2. **ì¤‘ë³µ ê³„ì‚°**: íŠ¸ë¦¬ ì¬ê·€ì—ì„œ ë™ì¼í•œ ê³„ì‚° ë°˜ë³µ
> 3. **ê¸°ì € ì‚¬ë¡€ ëˆ„ë½**: ë¬´í•œ ì¬ê·€ ë°œìƒ
> 4. **ë¹„íš¨ìœ¨ì  ë¶„í• **: ë¬¸ì œ í¬ê¸°ê°€ ì¶©ë¶„íˆ ê°ì†Œí•˜ì§€ ì•ŠìŒ

### ìµœì í™” ê¸°ë²•

#### 1. ë©”ëª¨ì´ì œì´ì…˜ (Memoization)

```scheme
; ë©”ëª¨ì´ì œì´ì…˜ì„ ì´ìš©í•œ í”¼ë³´ë‚˜ì¹˜
(define memo-fib
  (let ((memo '()))
    (lambda (n)
      (let ((cached (assoc n memo)))
        (if cached
            (cdr cached)
            (let ((result
                   (cond ((= n 0) 0)
                         ((= n 1) 1)
                         (else (+ (memo-fib (- n 1))
                                 (memo-fib (- n 2)))))))
              (set! memo (cons (cons n result) memo))
              result))))))
```

#### 2. ê¼¬ë¦¬ì¬ê·€ ë³€í™˜

> [!tip] ë³€í™˜ ì „ëµ
> 1. ëˆ„ì  ë§¤ê°œë³€ìˆ˜(accumulator) ì¶”ê°€
> 2. ì¤‘ê°„ ê²°ê³¼ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬
> 3. ì¬ê·€ í˜¸ì¶œì„ ë§ˆì§€ë§‰ ì—°ì‚°ìœ¼ë¡œ ì´ë™

#### 3. ë°˜ë³µë¬¸ìœ¼ë¡œ ë³€í™˜

```scheme
; ì¬ê·€ë¥¼ ë°˜ë³µë¬¸ìœ¼ë¡œ (ì˜ì‚¬ ì½”ë“œ)
; while (not base-case):
;   update state
; return result
```

---

## ğŸ“š ì°¸ê³ ìë£Œ

### ê´€ë ¨ ë¬¸ì„œ
- [[01_functional-programming-basics|í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ê¸°ì´ˆ]]
- [[03_lambda-and-higher-order|ëŒë‹¤ì™€ ê³ ì°¨ í•¨ìˆ˜]]
- [[01_algorithm-performance|ì•Œê³ ë¦¬ì¦˜ ì„±ëŠ¥ ë¶„ì„]]
- [[02_divide-and-conquer|ë¶„í•  ì •ë³µ ì•Œê³ ë¦¬ì¦˜]]

### í•µì‹¬ ê°œë…
- **ì¬ê·€(Recursion)**: ìê¸° ìì‹ ì„ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜
- **ê¼¬ë¦¬ì¬ê·€(Tail Recursion)**: ìµœì í™” ê°€ëŠ¥í•œ íŠ¹ë³„í•œ ì¬ê·€ í˜•íƒœ
- **ê¸°ì € ì‚¬ë¡€(Base Case)**: ì¬ê·€ ì¢…ë£Œ ì¡°ê±´
- **ì„ í˜• ì¬ê·€**: í•œ ë²ˆì˜ ì¬ê·€ í˜¸ì¶œ
- **íŠ¸ë¦¬ ì¬ê·€**: ì—¬ëŸ¬ ë²ˆì˜ ì¬ê·€ í˜¸ì¶œ
- **ë©”ëª¨ì´ì œì´ì…˜**: ê²°ê³¼ ìºì‹±ì„ í†µí•œ ìµœì í™”

### ë” ì½ì–´ë³´ê¸°
- SICP Chapter 1.2: Procedures and the Processes They Generate
- "The Little Schemer" - ì¬ê·€ì  ì‚¬ê³  í›ˆë ¨
- "Introduction to Algorithms" - ì¬ê·€ ì•Œê³ ë¦¬ì¦˜ ë¶„ì„

---

> [!quote]
> "ì¬ê·€ë¥¼ ì´í•´í•˜ë ¤ë©´, ë¨¼ì € ì¬ê·€ë¥¼ ì´í•´í•´ì•¼ í•œë‹¤." - ì»´í“¨í„° ê³¼í•™ ê²©ì–¸
### ì˜ˆì œ: ìµœëŒ€ê³µì•½ìˆ˜ (ìœ í´ë¦¬ë“œ í˜¸ì œë²•)

> [!example] íš¨ìœ¨ì ì¸ GCD ì•Œê³ ë¦¬ì¦˜

```scheme
; ìœ í´ë¦¬ë“œ í˜¸ì œë²•: gcd(a, b) = gcd(b, a mod b)
(define (gcd a b)
  (if (= b 0)
      a
      (gcd b (remainder a b))))

; ì‚¬ìš© ì˜ˆì œ
(gcd 48 18)   ; => 6
(gcd 60 48)   ; => 12

; ì—°ì‚° ê³¼ì • ì¶”ì 
(gcd 206 40)
(gcd 40 6)    ; 206 = 40 Ã— 5 + 6
(gcd 6 4)     ; 40 = 6 Ã— 6 + 4  
(gcd 4 2)     ; 6 = 4 Ã— 1 + 2
(gcd 2 0)     ; 4 = 2 Ã— 2 + 0
; => 2
```

### ì˜ˆì œ: ë¹ ë¥¸ ê±°ë“­ì œê³± (Fast Exponentiation)

> [!example] O(log n) ê±°ë“­ì œê³± ì•Œê³ ë¦¬ì¦˜

```scheme
; ì¼ë°˜ì ì¸ ê±°ë“­ì œê³± O(n)
(define (slow-expt b n)
  (if (= n 0)
      1
      (* b (slow-expt b (- n 1)))))

; ë¹ ë¥¸ ê±°ë“­ì œê³± O(log n)
; ì•„ì´ë””ì–´: b^n = (b^(n/2))^2 (nì´ ì§ìˆ˜ì¼ ë•Œ)
;          b^n = b Ã— b^(n-1) (nì´ í™€ìˆ˜ì¼ ë•Œ)
(define (fast-expt b n)
  (cond ((= n 0) 1)
        ((even? n) (square (fast-expt b (/ n 2))))
        (else (* b (fast-expt b (- n 1))))))

(define (square x) (* x x))
(define (even? n) (= (remainder n 2) 0))

; ì—°ì‚° ê³¼ì • ë¹„êµ
; slow-expt: 2^8 = 2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2Ã—2 (8ë²ˆ ê³±ì…ˆ)
; fast-expt: 2^8 = (2^4)^2 = ((2^2)^2)^2 = ((4)^2)^2 = (16)^2 = 256 (3ë²ˆ ê³±ì…ˆ)
```

### ì˜ˆì œ: ë°˜ë³µì  ë²„ì „ êµ¬í˜„

> [!example] ë°˜ë³µì  ê±°ë“­ì œê³±

```scheme
; ë°˜ë³µì  ë¹ ë¥¸ ê±°ë“­ì œê³± (ê¼¬ë¦¬ ì¬ê·€)
(define (fast-expt-iter b n)
  (define (iter a b n)
    (cond ((= n 0) a)
          ((even? n) (iter a (square b) (/ n 2)))
          (else (iter (* a b) b (- n 1)))))
  (iter 1 b n))

; ë¶ˆë³€ì‹(invariant): a Ã— b^n = ìƒìˆ˜
; ì´ˆê¸°ê°’: a=1, b=b, n=n â†’ 1 Ã— b^n = b^n
; ìµœì¢…: a=ê²°ê³¼, n=0 â†’ a Ã— b^0 = a
```